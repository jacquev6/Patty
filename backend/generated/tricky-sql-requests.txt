Textbook.fetch_ordered_exercises:
================================
SELECT exercises.id,
       exercises.kind
FROM exercises
JOIN (exercise_locations
      JOIN exercise_locations__textbook ON exercise_locations.id = exercise_locations__textbook.id) ON exercises.id = exercise_locations.id
WHERE exercise_locations__textbook.textbook_id = 42
ORDER BY exercise_locations__textbook.page_number,
         exercise_locations__textbook.exercise_number

Textbook.fetch_ordered_external_exercises:
=========================================
SELECT exercises__external.id,
       exercises.id AS id_1,
       exercises.kind,
       exercises__external.original_file_name
FROM exercises
JOIN exercises__external ON exercises.id = exercises__external.id
JOIN (exercise_locations
      JOIN exercise_locations__textbook ON exercise_locations.id = exercise_locations__textbook.id) ON exercises.id = exercise_locations.id
WHERE exercise_locations__textbook.textbook_id = 42
ORDER BY exercise_locations__textbook.page_number,
         exercise_locations__textbook.exercise_number

PageExtraction.fetch_ordered_exercises (page and number):
========================================================
SELECT exercises__adaptable.id,
       exercises.id AS id_1,
       exercises.kind,
       exercises__adaptable.full_text,
       exercises__adaptable.instruction_hint_example_text,
       exercises__adaptable.statement_text
FROM exercises
JOIN exercises__adaptable ON exercises.id = exercises__adaptable.id
JOIN (exercise_creations
      JOIN exercise_creations__by_page_extraction ON exercise_creations.id = exercise_creations__by_page_extraction.id) ON exercises.id = exercise_creations.id
JOIN (exercise_locations
      JOIN exercise_locations__maybe_page_and_number ON exercise_locations.id = exercise_locations__maybe_page_and_number.id) ON exercises.id = exercise_locations.id
WHERE exercise_creations__by_page_extraction.page_extraction_id = 42
ORDER BY exercise_locations__maybe_page_and_number.page_number,
         exercise_locations__maybe_page_and_number.exercise_number

PageExtraction.fetch_ordered_exercises (textbook):
=================================================
SELECT exercises__adaptable.id,
       exercises.id AS id_1,
       exercises.kind,
       exercises__adaptable.full_text,
       exercises__adaptable.instruction_hint_example_text,
       exercises__adaptable.statement_text
FROM exercises
JOIN exercises__adaptable ON exercises.id = exercises__adaptable.id
JOIN (exercise_creations
      JOIN exercise_creations__by_page_extraction ON exercise_creations.id = exercise_creations__by_page_extraction.id) ON exercises.id = exercise_creations.id
JOIN (exercise_locations
      JOIN exercise_locations__textbook ON exercise_locations.id = exercise_locations__textbook.id) ON exercises.id = exercise_locations.id
WHERE exercise_creations__by_page_extraction.page_extraction_id = 42
ORDER BY exercise_locations__textbook.page_number,
         exercise_locations__textbook.exercise_number

Textbook.make_ordered_exercises_on_page_request:
===============================================
SELECT exercises.id,
       exercises.kind
FROM exercises
JOIN (exercise_locations
      JOIN exercise_locations__textbook ON exercise_locations.id = exercise_locations__textbook.id) ON exercises.id = exercise_locations.id
WHERE exercise_locations__textbook.textbook_id = 42
  AND exercise_locations__textbook.page_number = 57
ORDER BY exercise_locations__textbook.page_number,
         exercise_locations__textbook.exercise_number

